<!DOCTYPE html>
<html lang="en">
	<head>
	<%	var carbon = require('carbon');
log = new Log(),
log.info("error");
var configs = require('../usermgt.js').config();
var server = require('../modules/server.js');

server.init(configs);
var user = require('../modules/user.js');
user.init(configs); 
%>
		<meta charset="utf-8">
		<title>User Management System</title>
		<script></script>
		<script src="./js/jquery.js"></script>
		<script src="./js/util.js"></script>
		<script src="./js/mustache.js"></script>
		<script src="./js/usermgt.js"></script>
		<script src="./js/rolemgt.js"></script>
		<script src="./js/permmgt.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		<link href="./css/bootstrap.css" rel="stylesheet">
	</head>
	<body>
		<div class="container">
			<h2>User Management System</h2>
			<div class="accordion" id="accordion2">
				<div class="accordion-group">
					<div class="accordion-heading">
						<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne"> Users </a>
					</div>
					<div id="collapseOne" class="accordion-body collapse in">
						<div class="accordion-inner">
							<h4>User Login</h4>
							UserName :
							<input type="text" id="username" value="admin"/>
							Password :
							<input type="text" id="password" value=""/>
							<p>
								<input type="button" id="login" value="Login" class="btn btn-primary" onclick="UserMgt.login();"/>
								<input type="button" id="logout" value="Logout" class="btn btn-primary"  onclick="UserMgt.logout();"/>
								<h4>Add New Student</h4>
							StudentName :
							<input type="text" id="susername" value="admin"/>
							StudentPassword :
							<input type="text" id="spassword" value=""/>
							<p><input type="button" id="register" value="Register New User" class="btn btn-primary" onclick="UserMgt.register();"/>
								<input type="button" id="signup" value="Signup New User"  class="btn btn-primary" onclick="UserMgt.signup();" disabled/>
							</p>
							<h4>Remove Student</h4>
							StudentName :
							<input type="text" id="srusername" value="admin"/>							
							<p><input type="button" id="removeuser" value="Remove User" class="btn btn-primary" onclick="UserMgt.remove();"/>
							</p>
						</div>
					</div>
				</div>
				<!-- Second group roles-->
				<div class="accordion-group">
					<div class="accordion-heading">
						<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"> Roles </a>
					</div>
					<div id="collapseTwo" class="accordion-body collapse">
						<div class="accordion-inner">
							<!-- Roles UI --->
							<h4>Roles</h4>
							Role Name :
							<input type="text" id="rolename1" value=""/>
							<p>
								<input type="button" id="addRole" value="Add Role"  class="btn btn-primary" onclick="RoleMgt.add();"/>
								<input type="button" id="deletRole" value="Remove Role"  class="btn btn-primary" onclick="RoleMgt.remove();"/>
							</p>
							<h4>Roles</h4>
						
							<div id="listrole"><input type="text" id="rolename2" value=""/></div>
						
							<div id="listuser"><input type="text" id="username2" value=""/></div>
							<p>
								<input type="button" id="updateRole" value="Add User Role"  class="btn btn-primary" onclick="RoleMgt.addUserRole();"/>
							</p>
						</div>
					</div>
				</div>
				<div class="accordion-group">
					<div class="accordion-heading">
						<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree"> Permissions </a>
					</div>
					<div id="collapseThree" class="accordion-body collapse">
						<div class="accordion-inner">
							<!-- Permision UI --->
							<h4>Permissions</h4>
							<div id="plistrole"><input type="text" id="rolename2" value=""/></div>
							<div id="plistgra"><input type="text" id="grtext" value=""/></div>
							
							<p>
								<input type="button" id="addPerm" value="Add Permission"  class="btn btn-primary" onclick="PermMgt.add();"/>							
							</p>
							<div id="plistperm"><input type="text" id="permtest" value=""/></div>
							<p>
								<input type="button" id="removePerm" value="remove Permission"  class="btn btn-primary" onclick="PermMgt.remove();"/>						
							</p>
						</div>
					</div>
				</div>
				<p>
					<div id="alertMsg">
					
					</div>
					<textarea id="out" rows="4" class="span12" >Results
					</textarea>
				</p>
			</div>
		</div>
	</body>
	<script language='javascript'>
		RoleMgt.listUsers();
		RoleMgt.listRoles();
		PermMgt.listRoles();
		PermMgt.listGrade();
		PermMgt.listPerm();
		
		

</script>
</html>
